<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Calculateur LAG GIPG – Version A</title>

<style>
body{
font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
margin:20px;
max-width:600px;
}

h1{font-size:22px}

input{
width:100%;
padding:10px;
margin-bottom:15px;
font-size:16px;
}

.result{
font-size:22px;
font-weight:bold;
margin-top:10px;
}
</style>
</head>

<body>

<h1>Calculateur LAG GIPG – Version A</h1>

<label>Distance cible LOS (m)</label>
<input id="distance">

<label>Angle de tir (°)</label>
<input id="angle">

<label>Vitesse embarcation (km/h)</label>
<input id="vitesse">

<div class="result">Lag (mrad) : <span id="lag">—</span></div>
<div class="result">Vent (cm) : <span id="vent">—</span></div>
<div class="result">Lead (mrad) : <span id="lead">—</span></div>

<script>

function calc(){

let d=parseFloat(distance.value);
let a=parseFloat(angle.value);
let v=parseFloat(vitesse.value);

if(!d||!a||!v){return}

let tof=1;   // temporaire (sera remplacé par table)
let speed=v/3.6;

let c8=speed*tof;

let denom=Math.sqrt(d*d+c8*c8-2*d*c8*Math.cos(a*Math.PI/180));
let lagVal=Math.asin((c8*Math.sin(a*Math.PI/180))/denom)*1000;

let ventVal=(speed*0.01)*100;  // temporaire
let leadVal=ventVal/(d/10);

lag.innerText=lagVal.toFixed(1);
vent.innerText=ventVal.toFixed(1);
lead.innerText=leadVal.toFixed(1);
}

distance.oninput=calc;
angle.oninput=calc;
vitesse.oninput=calc;

</script>

</body>
</html>
